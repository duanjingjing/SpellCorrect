# 单词纠错功能

## 1. 基本功能与原理
>	在实际中经常把单词拼写错误,本项目的目的是提供错误的单词的可能正确结果。
	基本原理是利用字符串编辑距离算法。字符串的编辑距离算法可以用来表示字符串之间的相似度。如果一个单词拼写错误,那么我们根据编辑距离去词库中寻找与之相似度最高的单词。


## 2.功能模块划分
 *配置模块:*
	使用单例模式编写一个类,用于读取配置文件。

 *预处理模块:*
> 根据中英文语料建立一个词典,主要是单词和词频,供后面的查询服务使用。
  中文分词使用的是开源的"结巴分词",我们采用UTF8编码处理中文。项目地址参见[http://github.com/aszxqw/libcppjieba]

 *网络框架:*
 >  使用的是自己编写的NetLib网络库。
 这个lib封装了基本的IO复用模型与线程池。所使用的编程模式有两种:
 1. 只使用TCPserver,内部是一个poll模型,TcpServer自动把各种需要监听的fd放入其中,用户只需要处理三个回调函数即可。
 2. 第二种是将TcpServer与线程池结合,用户在回调函数中,把计算任务(本项目中为查询服务)和数据回发的任务封装成函数,交给线程池处理。这样TcpServer所在的IO线程主要处理数据收发,而线程池内的线程主要处理计算任务。
 这里采用的是第二种模型。
 (必须先安装好本网络库,先生成静态库，并将有关的头文件添加到/usr/include中)

*查询模块:*
	核心的查询模块,将需要结症的词语与词库中的词进行比较返回最优选择。

*缓存池:*
>	内部封装多个cache,线程每次在执行查询前都必须向CachePool申请一个可用的cache，查询完之后将其归还。这里本质是一个生产者与消费者问题。
	同时与之相关的是建立一个定时器线程,每隔一段时间就把cache写回磁盘。
	cache采用的数据结构是hash_map来实现。

*倒排索引:*
>	根据词库建立倒排索引，例如由于字母a索引出所有包含a的单词。这样就可以加快查询速度。





